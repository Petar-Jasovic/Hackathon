<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budva</title>
    <link rel="stylesheet" href="Budva_page_style.css">
</head>
<body>
    <main class="page">
        <div class="navigationBar">

            <div class="left">
                <button class="menu" onclick="hideShowMenu()"><img class="menuImg" src="../burgerBar.png" alt="Menu" height="30rem"></button>
            </div>

            <div class="middle">
                <input class="searchBar" type="text" placeholder="Search for...">
                <button class="searchGlass"><img class="searchGlassImg" src="../search.png" alt="search glass" height="18px"></button>
            </div>

            <div class="right">
                <button class="signUpButton" id="signUpButton" onclick="location.href='../../Login and Sign up/signup.html'">Sign up</button>
                <button class="loginButton" id="loginButton" onclick="location.href='../../Login and Sign up/login.html'">Log in</button>
                <button class="profile" id="profile" onclick="hideShowProfile()"><img class="profileImg" src="../profile.png"></button>
            </div>
        </div>


        <div class="off_screen_menu" id="menu_bar">
            <h2 style="font-size: medium;">
                <ul>
                    <li style="margin-bottom: 6rem;"><a href="../main.html">Main page</a></li>
                </ul>
            </h2>
            <h3 class="off_screen_menu_head">List of old towns</h3>
                <ul class="towns">
                    <li><a href="../Ulcinj_old_town/Ulcinj_page.html">Ulcinj</a></li>
                    <li><a href="../Bar_old_town/Bar_page.html">Bar</a></li>
                    <li><a href="../Kotor_old_town/Kotor_page.html">Kotor</a></li>
                    <li><a href="../Herceg_Novi_old_town/Herceg_Novi_page.html">Herceg Novi</a></li>
                </ul>
        </div>
        
        <div class="profile_info" id="user_info">
            <h4 class="profile_title">Profile information</h4>
            <p>Email: <span id="profile_email">########</span>
            <input type="checkbox" id="checkboxEmail" onclick="showEmail()">
            <label for="checkboxEmail" class="fas" id="fas"></label>
            <button class="changeEmail" style="margin-left: 1rem;" onclick="changeEmail()">Change?</button>
            </p>
            <input class="profile_info_mail" id="profile_info_mail" type="text" onkeyup="emailValidation()"><button id="changeEmailConfirm" onclick="confirmChangeEmail()">Submit</button>
            <p id="emailChangeErrorMsg"></p>
            <p>Password: <span id="profile_password">########</span>
            <input type="checkbox" id="checkboxPassword" onclick="showPassword()">
            <label for="checkboxPassword" class="fas" id="fas"></label>
            <button class="changePassword" style="margin-left: 1rem;" onclick="changePassword()">Change?</button>
            </p>
            <input class="profile_info_password" id="profile_info_password" type="text"><button id="changePasswordConfirm" onclick="confirmChangePassword()">Submit</button>
            <p id="passwordChangeErrorMsg"></p>
            <button class="sign_out_button" id="sign_out_button" onclick="signOut()">Sign out</button>
        </div>

        <div class="head">
            <h1>Welcome to the Old Town of Budva</h1>
            <h2>Experience the Timeless Charm, Stunning Coastline, and Rich History of Budva’s Old Town!</h2>
            <img src="Budva_old_town.png" alt="Failed to load image 'Ulcinj old town'" style="display: block; margin-left: auto; margin-right: auto; width: 50%; border: 5px solid rgb(0,0,0,0.5); border-radius: 40px; margin-bottom: 5rem; margin-top: 5rem;">
        </div>

        <div class="aboutBody">
            <h1>About the Old Town of Budva</h1>
            <p>The Old Town of Budva (Stari Grad Budva) is one of the oldest settlements on the Adriatic coast, with a history dating back over 2,500 years. Surrounded by ancient city walls, this medieval town is a maze of narrow cobblestone streets, historic buildings, and charming squares. Located right along the Adriatic Sea, the Old Town offers visitors a unique blend of history, culture, and stunning coastal views, making it one of Montenegro's most popular destinations.</p>

            <h1>Top Attractions</h1>
            <ol>
                <li>Budva Citadel</li>
                <p>The Budva Citadel is the heart of the Old Town. Once a fortress defending the city, today it offers breathtaking views over the Adriatic Sea and Budva Riviera. Inside, visitors can explore exhibitions, a library, and historic remnants from Budva’s past.</p>
                <ul>
                    <li><b>Best time to visit</b> Year-round</li>
                    <li><b>Activities</b>: Sightseeing, museum visits, photography</li>
                    <li><b>Location</b> Old Town of Budva</li>
                </ul>

                <li>Holy Trinity Church</li>
                <p>Built in 1804, this iconic Orthodox church, located in the heart of the Old Town, is known for its stunning frescoes and beautiful iconostasis. It’s a peaceful spot to reflect and enjoy the town’s religious and architectural heritage.</p>
                <ul>
                    <li><b>Location</b> Main square of the Old Town</li>
                </ul>

                <li>Archaeological Museum of Budva</li>
                <p>Discover artifacts from Budva’s long history, from ancient Greek and Roman relics to more recent Venetian influences. The museum provides a great overview of the town’s significance throughout history.</p>
                <ul>
                    <li><b>Best time to visit</b> Year-round</li>
                    <li><b>Activities</b>: Museum tour</li>
                    <li><b>Location</b> Old Town of Budva</li>
                </ul>
            </ol>
                <h1>Outdoor Adventures</h1>
                <p style="padding-left: 2rem;">The Old Town of Ulcinj is surrounded by natural beauty, perfect for adventurers looking to combine history with outdoor activities. The cliffs surrounding the town offer incredible views and opportunities for exploring coastal paths, while the nearby beaches, such as Mala Plaža (Small Beach) and Velika Plaža (Long Beach), are ideal for water sports.</p>
                <ul style="padding-left: 4.6rem;">
                    <li><b>Popular Hiking Trails</b> Explore the ancient pathways that surround the town and lead to scenic viewpoints above the Adriatic.</li>
                    <li><b>Water Activities</b> Head down to the nearby beaches for swimming, snorkeling, or windsurfing.</li>
                </ul>
        </div>

        <footer class="footer">
            <div class="footerLeft">
                <h2>Contact us!</h2>
                <h3 style="margin-bottom: 4rem;">We'd love to hear from you! Whether you have questions, suggestions, or just want to share your latest adventure with us, feel free to reach out.</h3>
                <h4>Here's how you can get in touch:</h4>
                <ul style="align-items:first baseline; margin-right: 2.8rem;" type="none">
                    <li>Email: [your-email@example.com]</li>
                    <li>Phone: +[Your Phone Number]</li>
                </ul>
            </div>

            <div class="footerRight">
                <h2>Our Supporting Municipalities</h2>
                <h3>We are honored to be sponsored by municipalities that share our vision of promoting adventure, tourism, and outdoor activities. Their support helps us showcase the natural beauty, culture, and unique experiences that each region has to offer.</h3>
                <h4>Meet Our Municipal Partners:</h4>
                    <ul style="line-height: 0.7; margin-right: 2.2rem;" type="none">
                        <li>Municipality of Ulcinj</li>
                        <li>Municipality of Bar</li>
                        <li>Municipality of Budva</li>
                        <li>Municipality of Kotor</li>
                        <li>Municipality of Herceg Novi</li>
                    </ul>
            </div>
        </footer>
    </main>

    <script>
        document.getElementById("checkboxEmail").checked = false;
        document.getElementById("checkboxPassword").checked = false;

        document.getElementById("profile_info_mail").value = "";
        document.getElementById("profile_info_password").value = "";

        if(localStorage.getItem("loggedIn") === "true"){
            document.getElementById("signUpButton").hidden = true;
            document.getElementById("loginButton").hidden = true;
            document.getElementById("profile").hidden = false;
        }else{
            document.getElementById("signUpButton").hidden = false;
            document.getElementById("loginButton").hidden = false;
            document.getElementById("profile").hidden = true;
        }

        // Change email and password
        var profile_info_mail = document.getElementById("profile_info_mail");
        var profile_info_password = document.getElementById("profile_info_password");
        var profile_info_mail_value = document.getElementById("profile_info_mail").value;
        var profile_info_password_value = document.getElementById("profile_info_password").value;
        var changeEmailConfirm = document.getElementById("changeEmailConfirm");
        var changePasswordConfirm = document.getElementById("changePasswordConfirm");
        var emailAddress = document.getElementById("profile_info_mail");
        var emailChangeErrorMsg = document.getElementById("emailChangeErrorMsg");
        var passwordChangeErrorMsg = document.getElementById("passwordChangeErrorMsg");

        function emailValidation(){
            if(!emailAddress.value.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){
                return false;
            }
                return true;
        }
        function validatePassword(profile_info_password_value){
            var passwordRe=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\s]{8,}$/;
            return passwordRe.test(profile_info_password_value);
        }

        function changeEmail(){
            profile_info_mail.classList.add('show');
            changeEmailConfirm.classList.add('show');
        }
        function changePassword(){
            profile_info_password.classList.add('show');
            changePasswordConfirm.classList.add('show');
        }
        function confirmChangeEmail(){
            profile_info_mail_value = document.getElementById("profile_info_mail").value;
            if (profile_info_mail_value !== "" && emailValidation()) {
                localStorage.setItem("newEmail", profile_info_mail_value);
                location.reload();
            } else {
                emailChangeErrorMsg.textContent = "Invalid email adress";
                profile_info_mail.style.border = "rgba(140, 5, 0) solid 3px";
            }
        }
        function confirmChangePassword(){
            profile_info_password_value = document.getElementById("profile_info_password").value;
            if (profile_info_password_value !== "" && validatePassword(profile_info_password_value)) {
                localStorage.setItem("newPassword", profile_info_password_value);
                location.reload();
            } else {
                passwordChangeErrorMsg.textContent = "Password must include at least 8 characters, 1 upper case letter and 1 number";
                profile_info_password.style.border = "rgba(140, 5, 0) solid 3px";
            }
        }

        //show email and password
        var profile_email = document.getElementById("profile_email");
        var profile_password = document.getElementById("profile_password");
        var displayEmail = 0;
        var displayPassword = 0;
        function showEmail(){
            if(displayEmail === 0){
                profile_email.textContent = localStorage.getItem("newEmail");
                displayEmail = 1;
            }else{
                profile_email.textContent = "########";
                displayEmail = 0;
            }
        }
        function showPassword(){
            if(displayPassword === 0){
                profile_password.textContent = localStorage.getItem("newPassword");
                displayPassword = 1;
            }else{
                profile_password.textContent = "########";
                displayPassword = 0;
            }
        }

        //sign out
        function signOut(){
            localStorage.removeItem("loggedIn");
            window.location.href = "../../Login and Sign up/login.html"
        }

        //hiding and showing the menu and profile elements
        var showMenu = document.getElementById('menu_bar');
        var showProfile = document.getElementById('user_info');
        var displayMenu = 0;
        var displayProfile = 0;

        function hideShowMenu() {
            if (displayMenu === 0) {
                showMenu.classList.add('show');
                displayMenu = 1;
            } else {
                showMenu.classList.remove('show');
                displayMenu = 0;
            }
        }

        function hideShowProfile() {
            if (displayProfile === 0) {
                showProfile.classList.add('show');
                displayProfile = 1;
            } else {
                showProfile.classList.remove('show');
                displayProfile = 0;
            }
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herceg novi</title>
    <link rel="stylesheet" href="Herceg_Novi_page_style.css">
</head>
<body>
    <main class="page">
        <div class="navigationBar">

            <div class="left">
                <button class="menu" onclick="hideShowMenu()"><img class="menuImg" src="../burgerBar.png" alt="Menu" height="30rem"></button>
            </div>

            <div class="middle">
                <input class="searchBar" type="text" placeholder="Search for...">
                <button class="searchGlass"><img class="searchGlassImg" src="../search.png" alt="search glass" height="18px"></button>
            </div>

            <div class="right">
                <button class="signUpButton" id="signUpButton" onclick="location.href='../../Login and Sign up/signup.html'">Sign up</button>
                <button class="loginButton" id="loginButton" onclick="location.href='../../Login and Sign up/login.html'">Log in</button>
                <button class="profile" id="profile" onclick="hideShowProfile()"><img class="profileImg" src="../profile.png"></button>
            </div>
        </div>


        <div class="off_screen_menu" id="menu_bar">
            <h2 style="font-size: medium;">
                <ul>
                    <li style="margin-bottom: 6rem;"><a href="../main.html">Main page</a></li>
                </ul>
            </h2>
            <h3 class="off_screen_menu_head">List of old towns</h3>
                <ul class="towns">
                    <li><a href="../Ulcinj_old_town/Ulcinj_page.html">Ulcinj</a></li>
                    <li><a href="../Bar_old_town/Bar_page.html">Bar</a></li>
                    <li><a href="../Budva_old_town/Budva_page.html">Budva</a></li>
                    <li><a href="../Kotor_old_town/Kotor_page.html">Kotor</a></li>
                </ul>
        </div>
        
        <div class="profile_info" id="user_info">
            <h4 class="profile_title">Profile information</h4>
            <p>Email: <span id="profile_email">########</span>
            <input type="checkbox" id="checkboxEmail" onclick="showEmail()">
            <label for="checkboxEmail" class="fas" id="fas"></label>
            <button class="changeEmail" style="margin-left: 1rem;" onclick="changeEmail()">Change?</button>
            </p>
            <input class="profile_info_mail" id="profile_info_mail" type="text" onkeyup="emailValidation()"><button id="changeEmailConfirm" onclick="confirmChangeEmail()">Submit</button>
            <p id="emailChangeErrorMsg"></p>
            <p>Password: <span id="profile_password">########</span>
            <input type="checkbox" id="checkboxPassword" onclick="showPassword()">
            <label for="checkboxPassword" class="fas" id="fas"></label>
            <button class="changePassword" style="margin-left: 1rem;" onclick="changePassword()">Change?</button>
            </p>
            <input class="profile_info_password" id="profile_info_password" type="text"><button id="changePasswordConfirm" onclick="confirmChangePassword()">Submit</button>
            <p id="passwordChangeErrorMsg"></p>
            <button class="sign_out_button" id="sign_out_button" onclick="signOut()">Sign out</button>
        </div>

        <div class="head">
            <h1>Welcome to the Old Town of Herceg Novi</h1>
            <h2>Uncover the Seaside Charm, Rich History, and Stunning Fortresses of Herceg Novi’s Old Town!</h2>
            <img src="Herceg_Novi_old_town.png" alt="Failed to load image 'Ulcinj old town'" style="display: block; margin-left: auto; margin-right: auto; width: 50%; border: 5px solid rgb(0,0,0,0.5); border-radius: 40px; margin-bottom: 5rem; margin-top: 5rem;">
        </div>

        <div class="aboutBody">
            <h1>About the Old Town of Herceg Novi</h1>
            <p>The Old Town of Herceg Novi (Stari Grad Herceg Novi), located at the entrance of the Bay of Kotor, is a town rich in history and culture. Founded in 1382, the town has been shaped by a variety of influences, including the Ottoman, Venetian, and Spanish empires, which is reflected in its architecture. Known for its steep streets, vibrant atmosphere, and lush Mediterranean vegetation, Herceg Novi’s Old Town is a must-visit destination on the Montenegrin coast.</p>

            <h1>Top Attractions</h1>
            <ol>
                <li>Forte Mare Fortress</li>
                <p>One of the most iconic landmarks of Herceg Novi, Forte Mare was built in the 14th century to protect the town from naval attacks. Today, the fortress offers spectacular views of the Adriatic Sea and the Bay of Kotor and serves as a popular venue for outdoor events and film screenings.</p>
                <ul>
                    <li><b>Best time to visit</b> Year-round</li>
                    <li><b>Activities</b>: Sightseeing, photography, historical exploration</li>
                    <li><b>Location</b> Coastal area of the Old Town</li>
                </ul>

                <li>Clock Tower (Sahat Kula)</li>
                <p>Built by the Turks in 1667, the Clock Tower is a symbol of Herceg Novi. This beautiful tower stands at the entrance to the Old Town and is a great starting point for exploring the town’s narrow, winding streets.</p>
                <ul>
                    <li><b>Best time to visit</b> Year-round</li>
                    <li><b>Activities</b> Sightseeing, photography</li>
                    <li><b>Location</b> Main square, Old Town</li>
                </ul>

                <li>Church of St. Michael the Archangel</li>
                <p>Located in the central square of the Old Town, this beautiful church, built in the Byzantine and Romanesque style, stands out with its unique architecture. It’s a peaceful spot to appreciate religious history and admire the intricate details of the building.</p>
                <ul>
                    <li><b>Activities</b> Sightseeing, photography</li>
                    <li><b>Location</b> Belavista Square, Old Town</li>
                </ul>
            </ol>
                <h1>Outdoor Adventures</h1>
                <p style="padding-left: 2rem;">The Old Town of Herceg Novi is not just a historical treasure but also a great base for outdoor adventures, particularly along the beautiful Montenegrin coastline.</p>
                <ul style="padding-left: 4.6rem;">
                    <li><b>Walk Along the Šetalište Pet Danica:</b> EThis scenic seaside promenade stretches for 7 kilometers along the coast, offering stunning views of the Adriatic Sea, access to beaches, and plenty of cafes and restaurants for breaks.</li>
                    <li><b>Explore the Nearby Beaches:</b> Herceg Novi is famous for its crystal-clear waters and beautiful beaches. Some popular ones near the Old Town include Zanijice Beach and Njivice Beach, where visitors can relax, swim, and enjoy water sports.</li>
                </ul>
        </div>

        <footer class="footer">
            <div class="footerLeft">
                <h2>Contact us!</h2>
                <h3 style="margin-bottom: 4rem;">We'd love to hear from you! Whether you have questions, suggestions, or just want to share your latest adventure with us, feel free to reach out.</h3>
                <h4>Here's how you can get in touch:</h4>
                <ul style="align-items:first baseline; margin-right: 2.8rem;" type="none">
                    <li>Email: [your-email@example.com]</li>
                    <li>Phone: +[Your Phone Number]</li>
                </ul>
            </div>

            <div class="footerRight">
                <h2>Our Supporting Municipalities</h2>
                <h3>We are honored to be sponsored by municipalities that share our vision of promoting adventure, tourism, and outdoor activities. Their support helps us showcase the natural beauty, culture, and unique experiences that each region has to offer.</h3>
                <h4>Meet Our Municipal Partners:</h4>
                    <ul style="line-height: 0.7; margin-right: 2.2rem;" type="none">
                        <li>Municipality of Ulcinj</li>
                        <li>Municipality of Bar</li>
                        <li>Municipality of Budva</li>
                        <li>Municipality of Kotor</li>
                        <li>Municipality of Herceg Novi</li>
                    </ul>
            </div>
        </footer>
    </main>

    <script>
        document.getElementById("checkboxEmail").checked = false;
        document.getElementById("checkboxPassword").checked = false;

        document.getElementById("profile_info_mail").value = "";
        document.getElementById("profile_info_password").value = "";

        if(localStorage.getItem("loggedIn") === "true"){
            document.getElementById("signUpButton").hidden = true;
            document.getElementById("loginButton").hidden = true;
            document.getElementById("profile").hidden = false;
        }else{
            document.getElementById("signUpButton").hidden = false;
            document.getElementById("loginButton").hidden = false;
            document.getElementById("profile").hidden = true;
        }

        // Change email and password
        var profile_info_mail = document.getElementById("profile_info_mail");
        var profile_info_password = document.getElementById("profile_info_password");
        var profile_info_mail_value = document.getElementById("profile_info_mail").value;
        var profile_info_password_value = document.getElementById("profile_info_password").value;
        var changeEmailConfirm = document.getElementById("changeEmailConfirm");
        var changePasswordConfirm = document.getElementById("changePasswordConfirm");
        var emailAddress = document.getElementById("profile_info_mail");
        var emailChangeErrorMsg = document.getElementById("emailChangeErrorMsg");
        var passwordChangeErrorMsg = document.getElementById("passwordChangeErrorMsg");

        function emailValidation(){
            if(!emailAddress.value.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){
                return false;
            }
                return true;
        }
        function validatePassword(profile_info_password_value){
            var passwordRe=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d\s]{8,}$/;
            return passwordRe.test(profile_info_password_value);
        }

        function changeEmail(){
            profile_info_mail.classList.add('show');
            changeEmailConfirm.classList.add('show');
        }
        function changePassword(){
            profile_info_password.classList.add('show');
            changePasswordConfirm.classList.add('show');
        }
        function confirmChangeEmail(){
            profile_info_mail_value = document.getElementById("profile_info_mail").value;
            if (profile_info_mail_value !== "" && emailValidation()) {
                localStorage.setItem("newEmail", profile_info_mail_value);
                location.reload();
            } else {
                emailChangeErrorMsg.textContent = "Invalid email adress";
                profile_info_mail.style.border = "rgba(140, 5, 0) solid 3px";
            }
        }
        function confirmChangePassword(){
            profile_info_password_value = document.getElementById("profile_info_password").value;
            if (profile_info_password_value !== "" && validatePassword(profile_info_password_value)) {
                localStorage.setItem("newPassword", profile_info_password_value);
                location.reload();
            } else {
                passwordChangeErrorMsg.textContent = "Password must include at least 8 characters, 1 upper case letter and 1 number";
                profile_info_password.style.border = "rgba(140, 5, 0) solid 3px";
            }
        }

        //show email and password
        var profile_email = document.getElementById("profile_email");
        var profile_password = document.getElementById("profile_password");
        var displayEmail = 0;
        var displayPassword = 0;
        function showEmail(){
            if(displayEmail === 0){
                profile_email.textContent = localStorage.getItem("newEmail");
                displayEmail = 1;
            }else{
                profile_email.textContent = "########";
                displayEmail = 0;
            }
        }
        function showPassword(){
            if(displayPassword === 0){
                profile_password.textContent = localStorage.getItem("newPassword");
                displayPassword = 1;
            }else{
                profile_password.textContent = "########";
                displayPassword = 0;
            }
        }

        //sign out
        function signOut(){
            localStorage.removeItem("loggedIn");
            window.location.href = "../../Login and Sign up/login.html"
        }

        //hiding and showing the menu and profile elements
        var showMenu = document.getElementById('menu_bar');
        var showProfile = document.getElementById('user_info');
        var displayMenu = 0;
        var displayProfile = 0;

        function hideShowMenu() {
            if (displayMenu === 0) {
                showMenu.classList.add('show');
                displayMenu = 1;
            } else {
                showMenu.classList.remove('show');
                displayMenu = 0;
            }
        }

        function hideShowProfile() {
            if (displayProfile === 0) {
                showProfile.classList.add('show');
                displayProfile = 1;
            } else {
                showProfile.classList.remove('show');
                displayProfile = 0;
            }
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log in page</title>
    <link rel="stylesheet" href="loginPage.css">
</head>
<body>
    <div class="container" id="container">
        <h1>Welcome!</h1>
        <h2>To continue please log in.</h2>

        <form id="loginForm">
            <input type="email" id="email" placeholder="Enter your email address" onkeyup="emailValidation()">
            <span id="error"></span>
            <input type="checkbox" id="checkbox" onclick="showPassword()">
            <label for="checkbox" class="fas" id="fas"></label>
            <input type="password" id="password" placeholder="Enter your password">
            <p id="errorMsg"></p>
            <button type="submit">Log in</button>
        </form>

        
        <h3>Don't have an account?<a href="signUp.html">Sign up!</a></h3>
    </div>
    <script>
        function showPassword() {
            var x = document.getElementById("checkbox").checked;
            if (x == true) {
                document.getElementById("password").type = "text";
            } else {
                document.getElementById("password").type = "password";
            }
        }

        var emailAddress = document.getElementById("email");
        var emailError = document.getElementById("error");
        var container = document.getElementById("container");
        var isEmailValid = true;

        function emailValidation() {
            var emailValid = emailAddress.value.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);

            if (emailValid) {
                emailError.innerHTML = "";
                emailAddress.style.border = "";
                emailAddress.style.marginBottom = "1rem";

                if (!isEmailValid) {
                    isEmailValid = true;
                }
            } else {
                emailError.innerHTML = "Please enter a valid email address.";
                emailAddress.style.marginBottom = "2rem";
                emailAddress.style.border = "rgba(140, 5, 0, 0.5) solid 3px";

                if (isEmailValid) {
                    isEmailValid = false;
                }
            }
            return emailValid;
        }
    </script>
    <script src="loginScript.js"></script>
</body>
</html>